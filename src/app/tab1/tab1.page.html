<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-menu-button slot="start"></ion-menu-button>
    <ion-title>
      Accueil
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Accueil</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="statistics-container" *ngIf="!isLoading">
    <!-- Statistiques principales -->
    <ion-grid>
      <ion-row>
        <!-- Utilisateurs -->
        <ion-col size="12" size-md="6" size-lg="3">
          <ion-card class="stat-card stat-card-primary">
            <ion-card-content>
              <div class="stat-content">
                <div class="stat-icon">
                  <ion-icon name="people" color="primary"></ion-icon>
                </div>
                <div class="stat-info">
                  <h2>{{ statistiques.totalUtilisateurs }}</h2>
                  <p>Utilisateurs</p>
                </div>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Clients -->
        <ion-col size="12" size-md="6" size-lg="3">
          <ion-card class="stat-card stat-card-success">
            <ion-card-content>
              <div class="stat-content">
                <div class="stat-icon">
                  <ion-icon name="person" color="success"></ion-icon>
                </div>
                <div class="stat-info">
                  <h2>{{ statistiques.totalClients }}</h2>
                  <p>Clients</p>
                </div>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Articles -->
        <ion-col size="12" size-md="6" size-lg="3">
          <ion-card class="stat-card stat-card-warning">
            <ion-card-content>
              <div class="stat-content">
                <div class="stat-icon">
                  <ion-icon name="cube" color="warning"></ion-icon>
                </div>
                <div class="stat-info">
                  <h2>{{ statistiques.totalArticles }}</h2>
                  <p>Articles</p>
                </div>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Réservations -->
        <ion-col size="12" size-md="6" size-lg="3">
          <ion-card class="stat-card stat-card-info">
            <ion-card-content>
              <div class="stat-content">
                <div class="stat-icon">
                  <ion-icon name="calendar" color="tertiary"></ion-icon>
                </div>
                <div class="stat-info">
                  <h2>{{ statistiques.totalReservations }}</h2>
                  <p>Réservations</p>
                </div>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>

      <!-- Statistiques détaillées -->
      <ion-row>
        <!-- Articles actifs -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="checkmark-circle" color="success"></ion-icon>
                Articles actifs
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.articlesActifs }}</h1>
                <p>sur {{ statistiques.totalArticles }} articles</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Réservations en attente -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="time-outline" color="warning"></ion-icon>
                Réservations en attente
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.reservationsEnAttente }}</h1>
                <p>en attente de confirmation</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Réservations confirmées -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="checkmark-circle" color="success"></ion-icon>
                Réservations confirmées
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.reservationsConfirmees }}</h1>
                <p>confirmées</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Réservations terminées -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="flag" color="primary"></ion-icon>
                Réservations terminées
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.reservationsTerminees }}</h1>
                <p>terminées</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>

      <!-- Paiements et mouvements d'articles -->
      <ion-row>
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="wallet" color="success"></ion-icon>
                Paiements
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.totalPaiements }}</h1>
                <p>paiements enregistrés</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Articles entrants aujourd'hui -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card quick-stat-card-success">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="arrow-down" color="success"></ion-icon>
                Articles entrants aujourd'hui
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.nombreArticlesEntrantsAujourdhui }}</h1>
                <p>articles retournés aujourd'hui</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Articles sortants aujourd'hui -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card quick-stat-card-danger">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="arrow-up" color="danger"></ion-icon>
                Articles sortants aujourd'hui
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.nombreArticlesSortantsAujourdhui }}</h1>
                <p>articles sortis aujourd'hui</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <!-- Loading state -->
  <div class="loading-container" *ngIf="isLoading">
    <ion-spinner></ion-spinner>
    <p>Chargement des statistiques...</p>
  </div>
</ion-content>
