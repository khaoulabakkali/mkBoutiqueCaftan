<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-menu-button slot="start"></ion-menu-button>
    <ion-title>
      {{ 'home.title' | translate }}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">{{ 'home.title' | translate }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="statistics-container" *ngIf="!isLoading">
    <!-- Statistiques principales -->
    <ion-grid>
      <ion-row>
        <!-- Utilisateurs -->
        <ion-col size="12" size-md="6" size-lg="3">
          <ion-card class="stat-card stat-card-primary">
            <ion-card-content>
              <div class="stat-content">
                <div class="stat-icon">
                  <ion-icon name="people" color="primary"></ion-icon>
                </div>
                <div class="stat-info">
                  <h2>{{ statistiques.totalUtilisateurs }}</h2>
                  <p>{{ 'home.users' | translate }}</p>
                </div>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Clients -->
        <ion-col size="12" size-md="6" size-lg="3">
          <ion-card class="stat-card stat-card-success">
            <ion-card-content>
              <div class="stat-content">
                <div class="stat-icon">
                  <ion-icon name="person" color="success"></ion-icon>
                </div>
                <div class="stat-info">
                  <h2>{{ statistiques.totalClients }}</h2>
                  <p>{{ 'home.clients' | translate }}</p>
                </div>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Articles -->
        <ion-col size="12" size-md="6" size-lg="3">
          <ion-card class="stat-card stat-card-warning">
            <ion-card-content>
              <div class="stat-content">
                <div class="stat-icon">
                  <ion-icon name="cube" color="warning"></ion-icon>
                </div>
                <div class="stat-info">
                  <h2>{{ statistiques.totalArticles }}</h2>
                  <p>{{ 'home.articles' | translate }}</p>fix translate
                </div>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Réservations -->
        <ion-col size="12" size-md="6" size-lg="3">
          <ion-card class="stat-card stat-card-info">
            <ion-card-content>
              <div class="stat-content">
                <div class="stat-icon">
                  <ion-icon name="calendar" color="tertiary"></ion-icon>
                </div>
                <div class="stat-info">
                  <h2>{{ statistiques.totalReservations }}</h2>
                  <p>{{ 'home.reservations' | translate }}</p>
                </div>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>

      <!-- Statistiques détaillées -->
      <ion-row>
        <!-- Articles actifs -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="checkmark-circle" color="success"></ion-icon>
                {{ 'home.activeArticles' | translate }}
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.articlesActifs }}</h1>
                <p>{{ 'home.outOf' | translate }} {{ statistiques.totalArticles }} {{ 'home.articles' | translate }}</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Réservations en attente -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="time-outline" color="warning"></ion-icon>
                {{ 'home.pendingReservations' | translate }}
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.reservationsEnAttente }}</h1>
                <p>{{ 'home.waitingConfirmation' | translate }}</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Réservations confirmées -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="checkmark-circle" color="success"></ion-icon>
                {{ 'home.confirmedReservations' | translate }}
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.reservationsConfirmees }}</h1>
                <p>{{ 'home.confirmed' | translate }}</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Réservations terminées -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="flag" color="primary"></ion-icon>
                {{ 'home.completedReservations' | translate }}
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.reservationsTerminees }}</h1>
                <p>{{ 'home.completed' | translate }}</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>

      <!-- Paiements et mouvements d'articles -->
      <ion-row>
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="wallet" color="success"></ion-icon>
                {{ 'home.payments' | translate }}
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.totalPaiements }}</h1>
                <p>{{ 'home.recordedPayments' | translate }}</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Articles entrants aujourd'hui -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card quick-stat-card-success">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="arrow-down" color="success"></ion-icon>
                {{ 'home.incomingArticlesToday' | translate }}
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.nombreArticlesEntrantsAujourdhui }}</h1>
                <p>{{ 'home.returnedToday' | translate }}</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>

        <!-- Articles sortants aujourd'hui -->
        <ion-col size="12" size-md="6" size-lg="4">
          <ion-card class="detail-card quick-stat-card-danger">
            <ion-card-header>
              <ion-card-title>
                <ion-icon name="arrow-up" color="danger"></ion-icon>
                {{ 'home.outgoingArticlesToday' | translate }}
              </ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <div class="detail-stat">
                <h1>{{ statistiques.nombreArticlesSortantsAujourdhui }}</h1>
                <p>{{ 'home.exitedToday' | translate }}</p>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <!-- Loading state -->
  <div class="loading-container" *ngIf="isLoading">
    <ion-spinner></ion-spinner>
    <p>{{ 'home.loadingStatistics' | translate }}</p>
  </div>
</ion-content>
